spring:
  application:
    name: ai-user-control

  # Configure as non-web application for CLI usage
  main:
    web-application-type: none

  # Disable Spring Shell interactive mode for CLI execution
  shell:
    interactive:
      enabled: false
    noninteractive:
      enabled: true

# AI Control Configuration
ai-control:
  # Export Configuration
  export:
    # Run data collection and export on application startup
    on-startup: ${AI_CONTROL_EXPORT_ON_STARTUP:false}
    # Output directory for generated CSV files
    output-directory: ${AI_CONTROL_EXPORT_OUTPUT_DIR:./output}
    # Generate consolidated CSV with all users
    consolidated: ${AI_CONTROL_EXPORT_CONSOLIDATED:false}

  api:
    # Claude Code (Anthropic Admin API) Configuration
    # Requires Admin API key: sk-ant-admin-...
    claude:
      enabled: ${AI_CONTROL_CLAUDE_ENABLED:false}
      base-url: https://api.anthropic.com
      token: ${AI_CONTROL_CLAUDE_TOKEN:}
      # organization-id is DEPRECATED and no longer required
      organization-id: ${AI_CONTROL_CLAUDE_ORG_ID:}
      timeout: 30000
      retry-attempts: 3

    # GitHub Copilot Configuration
    github:
      enabled: ${AI_CONTROL_GITHUB_ENABLED:false}
      base-url: https://api.github.com
      token: ${AI_CONTROL_GITHUB_TOKEN:}
      organization: ${AI_CONTROL_GITHUB_ORG:}
      timeout: 30000
      retry-attempts: 3

    # Cursor Configuration (Admin API)
    cursor:
      enabled: ${AI_CONTROL_CURSOR_ENABLED:false}
      base-url: https://api.cursor.com
      token: ${AI_CONTROL_CURSOR_TOKEN:}
      timeout: 30000
      retry-attempts: 3
      # CSV import (legacy method, disabled by default)
      csv-import:
        enabled: ${AI_CONTROL_CURSOR_CSV_ENABLED:false}
        csv-path: ${AI_CONTROL_CURSOR_CSV_PATH:./cursor-exports}

# Logging Configuration
logging:
  level:
    root: INFO
    com.bemobi.aicontrol: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
